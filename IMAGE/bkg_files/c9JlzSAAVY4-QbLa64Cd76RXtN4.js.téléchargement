window.jQuery&&window.jQuery.fn.bem&&window.bemhtml&&(BEM.DOM.decl("serp-header",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.__self.instance=this}}}},{get:function(){if(this.instance)return this.instance;var t=$(this.buildSelector());return t.length?(this.instance=t.bem(this.getName()),this.instance):void 0},replacePlaceholder:function(t,e){var i=e.domElem,s=this.get(),n=s&&s.elem(t+"-container");n&&(n.replaceWith(i.detach()),e.delMod("hidden"))}}),BEM.DOM.decl("serp-header",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.__self.searchBlock=this.findBlockInside("search2")}}}},{getSearch:function(){return this.searchBlock||$(".search2").length&&$(".search2").bem("search2")}}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){if(this.__base.apply(this,arguments),this.elem("found").length){var t=this.elem("control");$("<span/>",{class:this.buildSelector("query-holder").slice(1)}).css({"font-family":t.css("font-family"),"font-size":t.css("font-size")}).attr("aria-hidden","true").text(this.val()).appendTo(this.domElem),this._controlQueryLeftOffset=parseInt(t.css("padding-left"),10)+(parseInt(t.css("border-left-width"),10)||0),this.on("change",this._toggleVisibility).bindToWin("resize",$.throttle(this._onWindowResize,100,this)).setPosition()}}}},_toggleVisibility:function(){var t=this.val()===this.elem("query-holder").text()&&this.textWidth<this.inputWidth&&Boolean(this.elem("found").text());this.toggleMod(this.elem("found"),"visibility","visible","",t)},setPosition:function(){var t=this.elem("control"),e=this.elem("found"),i=t.offset().left-this.domElem.offset().left+this._controlQueryLeftOffset+this.elem("query-holder").width();this.inputWidth=t.width(),this.textWidth=e.width()+i,e.css({left:i}),this._toggleVisibility()},_onWindowResize:function(){this.inputWidth=this.elem("control").width(),this._toggleVisibility()},setFound:function(t,e){this.elem("found").text(t),this.elem("query-holder").text(e),this.setPosition()}}),BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.bindTo("found","pointerdown",function(){this.setMod("focused","yes")})}}}}));